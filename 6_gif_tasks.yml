# Do not edit - automatically generated
# from the task_makefile.mustache template
# by ::() via create_gif_makefile(),scipiper() via create_gif_makefile(),create_task_makefile() via create_gif_makefile()

target_default: 6_gif_tasks

include:
  - 6_visualize.yml

packages:
  - dplyr
  - scipiper

sources:
  - 6_visualize/src/create_storm_frame.R

file_extensions:
  - "feather"
  - "ind"

targets:
  # --- a_20170825_01 --- #
  
  6_vizprep/out/storm_point_[20170825-01].rds.ind:
    command: prep_storm_point_fun(target_name, '2_process/out/storm_points_interp.rds.ind')

  6_vizprep/out/storm_point_[20170825-01].rds:
    command: gd_get('6_vizprep/out/storm_point_[20170825-01].rds.ind')

  6_visualize/tmp/gif_frame_a_20170825_01.png:
    command: create_storm_frame(
      png_file=target_name,
      config=storm_frame_config,
      '6_vizprep/out/view_fun.rds.ind',
      '6_vizprep/out/basemap_fun.rds.ind',
      '6_vizprep/out/rivers_fun.rds.ind',
      '6_vizprep/out/storm_line_fun.rds.ind',
      '6_vizprep/out/storm_point_[20170825-01].rds.ind')

  # --- a_20170825_02 --- #
  
  6_vizprep/out/storm_point_[20170825-02].rds.ind:
    command: prep_storm_point_fun(target_name, '2_process/out/storm_points_interp.rds.ind')

  6_vizprep/out/storm_point_[20170825-02].rds:
    command: gd_get('6_vizprep/out/storm_point_[20170825-02].rds.ind')

  6_visualize/tmp/gif_frame_a_20170825_02.png:
    command: create_storm_frame(
      png_file=target_name,
      config=storm_frame_config,
      '6_vizprep/out/view_fun.rds.ind',
      '6_vizprep/out/basemap_fun.rds.ind',
      '6_vizprep/out/rivers_fun.rds.ind',
      '6_vizprep/out/storm_line_fun.rds.ind',
      '6_vizprep/out/storm_point_[20170825-02].rds.ind')

  # --- a_20170825_03 --- #
  
  6_vizprep/out/storm_point_[20170825-03].rds.ind:
    command: prep_storm_point_fun(target_name, '2_process/out/storm_points_interp.rds.ind')

  6_vizprep/out/storm_point_[20170825-03].rds:
    command: gd_get('6_vizprep/out/storm_point_[20170825-03].rds.ind')

  6_visualize/tmp/gif_frame_a_20170825_03.png:
    command: create_storm_frame(
      png_file=target_name,
      config=storm_frame_config,
      '6_vizprep/out/view_fun.rds.ind',
      '6_vizprep/out/basemap_fun.rds.ind',
      '6_vizprep/out/rivers_fun.rds.ind',
      '6_vizprep/out/storm_line_fun.rds.ind',
      '6_vizprep/out/storm_point_[20170825-03].rds.ind')

  # --- Overall job --- #

  6_gif_tasks:
    command: sc_indicate(I('6_visualize/log/6_gif_tasks.ind'), hash_depends=I(TRUE), depends_target=I('6_gif_tasks'), depends_makefile=I('6_gif_tasks.yml'))
    depends: 
      - 6_visualize/tmp/gif_frame_a_20170825_01.png
      - 6_visualize/tmp/gif_frame_a_20170825_02.png
      - 6_visualize/tmp/gif_frame_a_20170825_03.png
