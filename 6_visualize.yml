target_default: 6_visualize

include:
  - 2_process.yml

packages:

file_extensions:
  - feather
  - ind

sources:
  - 6_visualize/src/create_storm_frame.R

targets:

  6_visualize:
    depends:

  # create_storm_frame will soon be called for all frames from within
  # a task table. just calling it once here to illustrate
  storm_frame_config:
    command: viz_config[I(c('bbox','projection','width','height','focus_geoms','secondary_geoms'))]
  6_visualize/out/example_storm_frame.png:
    command: create_storm_frame(
      png_file=target_name, timestep=I('2017-09-26 11:00:00'), config=storm_frame_config,
      view_polygon, '5_style/out/focus_geoms.rds.ind', '5_style/out/secondary_geoms.rds.ind',
      '5_style/out/storm_line.rds.ind', '5_style/out/storm_point_20170926_11.rds.ind',
      '5_style/out/precip_raster_20170926_11.rds.ind', '5_style/out/streamdata_20170926_11.rds.ind')
