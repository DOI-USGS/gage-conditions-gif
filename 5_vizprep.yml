target_default: 5_vizprep

include:
  - 2_process.yml

packages:

file_extensions:
  - feather
  - ind

sources:
  - 5_vizprep/src/prep_plot_funs.R

targets:

  5_vizprep:
    depends:
      - 5_vizprep/out/basemap.rds.ind
      - 5_vizprep/out/view_fun.rds.ind
      - 5_vizprep/out/storm_point_-20170826_11-_fun.rds.ind # this (as w/ other dynamic parts of the frames) would be a task table generated output from a separate yaml
      - 5_vizprep/out/storm_line_fun.rds.ind

  5_vizprep/out/basemap_fun.rds.ind:
    command: prep_basemap_fun(target_name, focus_geoms, secondary_geoms)
  5_vizprep/out/basemap_fun.rds:
    command: gd_get('5_vizprep/out/basemap_fun.rds.ind')

  5_vizprep/out/view_fun.rds.ind:
    command: prep_view_fun(target_name, view_polygon)
  5_vizprep/out/view_fun.rds:
    command: gd_get('5_vizprep/out/view_fun.rds.ind')

  5_vizprep/out/storm_point_-20170826_11-_fun.rds.ind:
    command: prep_storm_point_fun(target_name, "2_process/out/storm_points_interp.rds.ind")
  5_vizprep/out/storm_point_-20170826_11-_fun.rds:
    command: gd_get('5_vizprep/out/storm_point_-20170826_11-_fun.rds.ind') # want this to be 5_vizprep/out/storm_point_[20170826-11]_fun.rds.ind

  5_vizprep/out/storm_line_fun.rds.ind:
    command: prep_storm_line_fun(target_name, "2_process/out/storm_line.rds.ind")
  5_vizprep/out/storm_line_fun.rds:
    command: gd_get('5_vizprep/out/storm_line_fun.rds.ind')
